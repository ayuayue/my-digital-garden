<!-- Darkmode Copyright 2021 YexuanXiao under MIT license -->
 <link rel="alternate stylesheet preload" as="style" href="darkmode.css" id="darkmode-css">
 <script>
     // init darkmode
     {
         const darkmodeCss = document.getElementById('darkmode-css')
         const media = window.matchMedia('(prefers-color-scheme: dark)')
         const time = new Date().getHours()
         if (media.matches || ((time > 20 || time < 6) && sessionStorage.getItem('darktheme') !== 'false')) {
             darkmodeCss.rel = 'stylesheet'
             sessionStorage.setItem('darktheme', 'true')
         } else if (sessionStorage.getItem('darktheme') === 'true') {
             darkmodeCss.rel = 'stylesheet'
         } else {
             sessionStorage.setItem('darktheme', 'false')
         }
         media.addEventListener('change', () => {
             media.matches ? darkmodeCss.rel = 'stylesheet' : darkmodeCss.rel = 'alternate stylesheet'
         })
     }
 </script>

<script>
// Darkmode Copyright 2021 YexuanXiao under MIT license
 // darkmode method
 function changeTheme() {
     const darkmodeCss = document.getElementById('darkmode-css');
     if (sessionStorage.getItem('darktheme') !== 'true') {
         darkmodeCss.rel = 'stylesheet'
         sessionStorage.setItem('darktheme', 'true')
     } else {
         darkmodeCss.rel = 'alternate stylesheet'
         sessionStorage.setItem('darktheme', 'false')
     }
 }
    
 // initlize darkmode button
 {
     const container = document.createElement('div');
     const btn = document.createElement('input');
     document.body.appendChild(container)
     container.appendChild(btn)
     btn.addEventListener('click', changeTheme)
     btn.type = 'button'
     btn.value = 'ðŸŒ“'
     btn.style.cssText = 'background-color: transparent !important; border: none; font-size: 25px; z-index: 999; position: fixed; right: 10%; bottom: 10%'
 }
</script>
 